<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Casos de IncÃªndio - Hydro Bot</title>
  <meta name="description" content="Galeria de casos de incÃªndio registrados pelo Hydro Bot" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css" />
</head>
<body class="theme-dark">
  <header class="navbar" role="navigation" aria-label="Principal">
    <a class="brand" href="index.html">
      <img src="images/logo.png" alt="Hydro Bot" class="brand-logo" />
      <span class="brand-name">Hydro Bot</span>
    </a>
    <button class="nav-toggle" aria-expanded="false" aria-controls="nav-links" aria-label="Abrir menu">
      <span class="bar"></span><span class="bar"></span><span class="bar"></span>
    </button>
    <nav id="nav-links" class="nav-links" aria-label="Links principais">
      <a href="index.html" data-i18n="home">Home</a>
      <a href="projeto.html" data-i18n="project">Projeto</a>
      <a href="casos.html" class="active" data-i18n="caso">Casos</a>
      <a href="documentacao.html">DocumentaÃ§Ã£o</a>

    </nav>

    <div class="lang-switch">
      <button class="lang-btn" data-lang="pt" aria-label="PortuguÃªs">
        <img src="https://flagcdn.com/w20/br.png" alt="PortuguÃªs">
      </button>
      <button class="lang-btn" data-lang="en" aria-label="English">
        <img src="https://flagcdn.com/w20/us.png" alt="English">
      </button>
      <button class="lang-btn" data-lang="es" aria-label="EspaÃ±ol">
        <img src="https://flagcdn.com/w20/es.png" alt="EspaÃ±ol">
      </button>
    </div>
  </header>

  <main>
    <section class="section container">
      <h1 class="section-title reveal" data-i18n="casesTitle">Galeria de Casos de IncÃªndio</h1>
      <p class="reveal" data-i18n="casesInstructions">Clique nas imagens para ampliar.</p>

      <div class="grid three gallery">
        <a class="gallery-item reveal" href="images/caso1.jpeg" data-type="image" data-caption-key="case1Caption">
          <img src="images/caso1.jpeg" class="case-photo" alt="Caso 1" />
        </a>

        <a class="gallery-item reveal delay-1" href="images/caso2.jpeg" data-type="image" data-caption-key="case2Caption">
          <img src="images/caso2.jpeg" class="case-photo" alt="Caso 2" />
        </a>

        <a class="gallery-item reveal delay-2" href="images/caso3.jpg" data-type="image" data-caption-key="case3Caption">
          <img src="images/caso3.jpg" class="case-photo" alt="Caso 3" />
        </a>
      </div>
    </section>
  <
<section class="section container testimonial">
  <h2 class="section-title reveal" data-i18n="firefighterTestimony">Depoimento de um Bombeiro</h2>
  <div class="testimonial-card reveal">
    <video class="testimonial-video" controls poster="images/thumb-video.jpg" preload="metadata" aria-label="Depoimento do bombeiro">
      <source src="videos/depoimento.mp4" type="video/mp4" />
      <span data-i18n="videoNotSupported">Seu navegador nÃ£o suporta reproduzir este vÃ­deo.</span>
    </video>
    <div class="testimonial-actions">
      <button id="openVideoModal" class="btn primary" type="button" aria-haspopup="dialog" data-i18n="firefighterName">
        CABO PERIM
      </button>
    </div>
  </div>
</section>
</main>

  <div id="lightbox" class="lightbox" aria-hidden="true" role="dialog" aria-label="Visualizador">
    <div class="lightbox-inner" role="document">
      <button class="lightbox-close" aria-label="Fechar">âœ•</button>
      <img id="lightbox-img" alt="" />
      <video id="lightbox-video" controls></video>
      <p class="caption" id="lightbox-caption"></p>
    </div>
  </div>

  <button id="backToTop" class="back-to-top" aria-label="Voltar ao topo">â†‘</button>



  
<section class="social-section">
  <p data-i18n="followUs">Siga nosso Instagram:</p>
  <a href="https://www.instagram.com/hydro.bot/" target="_blank" rel="noopener" class="instagram-btn">
    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="icon">
      <path d="M7 2C4.243 2 2 4.243 2 7v10c0 2.757 2.243 5 5 5h10c2.757 0 5-2.243 
               5-5V7c0-2.757-2.243-5-5-5H7zm10 2a3 3 0 0 1 3 3v10a3 3 0 0 
               1-3 3H7a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h10zm-5 3a5 5 0 1 
               0 0 10 5 5 0 0 0 0-10zm0 2a3 3 0 1 1 0 6 3 3 0 0 1 
               0-6zm4.5-3a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"/>
    </svg>
    @hydro.bot
  </a>
</section>

<footer class="footer">
    <div class="container small">
      <p>Â© <span data-year></span> Hydro Bot. <span data-i18n="footer">Todos os direitos reservados.</span></p>
    </div>
  </footer>

  <!-- BotÃ£o flutuante do chat -->
  <div id="chat-btn" class="chat-btn">ðŸ’¬</div>

  <!-- Caixa de perguntas -->
  <div id="chat-box" class="chat-box">
    <div class="chat-header">Envie sua pergunta - Digite seu nome antes da pergunta</div>
    <textarea id="chat-input" placeholder="Digite sua pergunta..."></textarea>
    <button id="send-question" class="btn primary">Enviar</button>
    <div id="chat-feedback" class="chat-feedback"></div>
  </div>

  <!-- Script limpo apenas com funcionalidades bÃ¡sicas -->
  <script src="js/script.js"></script>

  <!-- Firebase v9 modular - Sistema de Chat -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyArkviije5lk6GX_egMHwrUagb6pqIXflA",
      authDomain: "hydrobot-chat.firebaseapp.com",
      projectId: "hydrobot-chat",
      storageBucket: "hydrobot-chat.appspot.com",
      messagingSenderId: "218191640260",
      appId: "1:218191640260:web:4a846b46b4aa3a8926fb91"
    };

    // Inicializar Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Elementos do chat
    const chatBtn = document.getElementById('chat-btn');
    const chatBox = document.getElementById('chat-box');
    const sendBtn = document.getElementById('send-question');
    const chatInput = document.getElementById('chat-input');
    const feedbackDiv = document.getElementById('chat-feedback');

    // Toggle do chat
    if (chatBtn && chatBox) {
      chatBtn.addEventListener('click', () => {
        chatBox.classList.toggle('active');
        if (chatBox.classList.contains('active')) {
          chatInput.focus();
        }
      });
    }

    // FunÃ§Ã£o para mostrar feedback
    function showFeedback(msg, type) {
      if (feedbackDiv) {
        feedbackDiv.textContent = msg;
        feedbackDiv.className = `chat-feedback ${type}`;
        feedbackDiv.style.display = 'block';
      }
    }

    // FunÃ§Ã£o para limpar feedback
    function clearFeedback() {
      if (feedbackDiv) {
        feedbackDiv.textContent = '';
        feedbackDiv.style.display = 'none';
      }
    }

    // Enviar pergunta
    if (sendBtn && chatInput) {
      sendBtn.addEventListener('click', async () => {
        const question = chatInput.value.trim();
        
        if (question.length === 0) {
          showFeedback("Digite uma pergunta antes de enviar!", "error");
          return;
        }

        sendBtn.disabled = true;
        sendBtn.textContent = "Enviando...";
        showFeedback("Enviando sua pergunta...", "info");

        try {
          await addDoc(collection(db, 'perguntas'), {
            texto: question,
            data: new Date(),
            pagina: 'casos.html',
            timestamp: Date.now()
          });

          showFeedback("Pergunta enviada com sucesso!", "success");
          chatInput.value = '';

          setTimeout(() => {
            chatBox.classList.remove('active');
            clearFeedback();
          }, 2000);

        } catch (error) {
          console.error("Erro ao salvar pergunta:", error);
          showFeedback("Erro ao enviar. Tente novamente.", "error");
        } finally {
          sendBtn.disabled = false;
          sendBtn.textContent = "Enviar";
        }
      });

      // Permite enviar com Enter
      chatInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          sendBtn.click();
        }
      });
    }

    console.log("Firebase inicializado - PÃ¡gina Casos");
  </script>
</body>
</html>