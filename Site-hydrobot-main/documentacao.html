<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Documentação - Hydro Bot</title>
  <meta name="description" content="Documentação do projeto Hydro Bot — etapas e mapa mental" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0a0a0a;
      --bg-accent:#0e0e10;
      --text:#f7f7ff;
      --muted:#c3c7d1;
      --primary:#00bcd4;
      --danger:#E63946;
      --success:#4CAF50;
      --warning:#FF9800;
      --card:#111216;
      --border:rgba(255,255,255,.08);
      --shadow:0 10px 30px rgba(0,0,0,.4);
      --radius:18px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      background:
        radial-gradient(1200px 1200px at 80% -10%, rgba(0,188,212,.12), transparent 60%),
        radial-gradient(900px 900px at -10% 40%, rgba(230,57,70,.12), transparent 50%),
        var(--bg);
      color:var(--text);
      line-height:1.6;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      -webkit-tap-highlight-color: transparent;
    }

    .container{width:min(1080px, 92%); margin-inline:auto;}
    .container.small{width:min(880px,92%)}

    .section{padding:80px 0}
    .section-title{font-size:clamp(1.6rem, 2.5vw, 2.2rem); margin:0 0 24px; letter-spacing:.3px}

    /* Navbar */
    .navbar{
      position:sticky; top:0; z-index:50;
      display:flex; align-items:center; justify-content:space-between;
      gap:16px; padding:14px 24px; background:rgba(10,10,10,.65);
      backdrop-filter:saturate(140%) blur(8px);
      border-bottom:1px solid var(--border);
    }
    .brand{display:flex; align-items:center; gap:10px; text-decoration:none; color:var(--text); font-weight:800; letter-spacing:.3px}
    .brand-logo{width:36px; height:36px; object-fit:contain; filter:drop-shadow(0 3px 10px rgba(0,188,212,.35))}
    .brand-name{display:inline-block; transform:translateY(1px)}

    .nav-links{display:flex; gap:12px}
    .nav-links a{
      color:var(--muted); text-decoration:none; padding:10px 14px; border-radius:12px; transition:.25s;
    }
    .nav-links a:hover{color:var(--text); background:rgba(255,255,255,.06)}
    .nav-links a.active{color:var(--text); background:linear-gradient(45deg, rgba(230,57,70,.25), rgba(0,188,212,.25));}

    .nav-toggle{display:none; background:none;border:0;cursor:pointer}
    .nav-toggle .bar{display:block; width:24px; height:2px; background:var(--text); margin:5px 0; transition:.3s}

    /* Language Switch */
    .lang-switch {
      display: flex;
      gap: 8px;
      margin-left: 16px;
    }
    .lang-switch button {
      background: none;
      border: 1px solid var(--border);
      cursor: pointer;
      padding: 6px;
      border-radius: 8px;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .lang-switch button:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: var(--primary);
    }
    .lang-switch button.active {
      background: linear-gradient(45deg, rgba(230,57,70,.25), rgba(0,188,212,.25));
      border-color: var(--primary);
      box-shadow: 0 0 10px rgba(0,188,212,.3);
    }
    .lang-switch img {
      width: 20px;
      height: auto;
      display: block;
    }

    /* Main content */
    main {
      padding: 40px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 10px;
      text-align: center;
    }

    p.lead {
      font-size: 1.1rem;
      text-align: center;
      margin-bottom: 30px;
    }

    .iframe-container {
      width: 100%;
      position: relative;
      padding-bottom: 56.25%;
      height: 0;
      margin-bottom: 40px;
    }

    .iframe-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
      border-radius: 10px;
    }

    /* Cards explicando as etapas */
    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      width: 100%;
    }

    .card {
      background: var(--bg-accent, rgba(255, 255, 255, 0.05));
      padding: 20px;
      border-radius: 10px;
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      transition: transform 0.3s;
    }

    .card:hover {
      transform: translateY(-5px);
    }

    .card h3 {
      margin-top: 0;
      font-size: 1.2rem;
    }

    .card p {
      font-size: 0.95rem;
    }
    
    /* Tabela de Componentes - Design Melhorado */
    .components-table {
      width: 100%;
      margin: 40px auto;
      max-width: 1000px;
      text-align: left;
    }

    .components-table h2 {
      margin-bottom: 32px;
      text-align: center;
    }

    .hydrobot-table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 8px 24px rgba(0,0,0,0.3);
      background: var(--card);
      border: 1px solid var(--border);
    }

    .hydrobot-table th {
      padding: 18px 16px;
      background: linear-gradient(135deg, var(--primary), #0097a7);
      color: var(--bg);
      font-weight: 700;
      text-transform: uppercase;
      font-size: 0.85rem;
      letter-spacing: 0.5px;
      text-align: left;
    }

    .hydrobot-table th:first-child {
      width: 100px;
      text-align: center;
    }

    .hydrobot-table td {
      padding: 20px 16px;
      vertical-align: top;
      border-bottom: 1px solid var(--border);
      transition: background-color 0.2s ease;
    }

    .hydrobot-table tr:hover td {
      background-color: rgba(0, 188, 212, 0.03);
    }

    .hydrobot-table tr:nth-child(even) td {
      background-color: rgba(255, 255, 255, 0.02);
    }
    
    .hydrobot-table tr:last-child td {
      border-bottom: none;
    }

    .component-image {
      width: 60px;
      height: 60px;
      border-radius: 12px;
      object-fit: cover;
      border: 2px solid var(--border);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      cursor: pointer;
    }

    .component-image:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 16px rgba(0, 188, 212, 0.2);
    }

    .component-name {
      font-weight: 600;
      color: var(--text);
      margin-bottom: 8px;
      font-size: 1.05rem;
    }

    .component-function {
      color: var(--muted);
      line-height: 1.5;
    }

    /* Lightbox para imagens */
    .lightbox {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      padding: 20px;
    }

    .lightbox.active {
      display: flex;
    }

    .lightbox-content {
      position: relative;
      max-width: 90vw;
      max-height: 80vh;
    }

    .lightbox img {
      width: 100%;
      height: auto;
      max-width: 400px;
      max-height: 70vh;
      object-fit: contain;
      border-radius: 12px;
      border: 2px solid var(--border);
    }

    .lightbox-close {
      position: absolute;
      top: -40px;
      right: 0;
      background: var(--danger);
      color: white;
      border: none;
      width: 35px;
      height: 35px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .lightbox-close:hover {
      background: #c62d36;
    }

    /* Portrait/shorts video */
    .pitch-video {
      margin: 40px auto;
      text-align: center;
      max-width: 800px;
    }

    .portrait-video {
      width: 100%;
      max-width: 480px;
      margin: 24px auto;
    }

    .portrait-video video {
      width: 100%;
      height: auto;
      aspect-ratio: 9 / 16;
      display: block;
      border-radius: 14px;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      background: #000;
      object-fit: cover;
    }

    /* Social section */
    .social-section {
      text-align: center;
      padding: 24px 16px;
      background: linear-gradient(45deg, rgba(0,188,212,0.1), rgba(230,57,70,0.1));
      border-top: 1px solid var(--border);
    }
    .social-section p {
      margin: 0 0 10px;
      font-size: 15px;
      font-weight: 600;
      color: var(--text);
    }
    .instagram-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: linear-gradient(45deg, var(--danger), var(--primary));
      color: #fff;
      padding: 10px 18px;
      border-radius: 30px;
      font-weight: 600;
      text-decoration: none;
      box-shadow: 0 4px 14px rgba(0,0,0,0.3);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .instagram-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.4);
    }
    .instagram-btn .icon {
      width: 20px;
      height: 20px;
    }

    /* Footer */
    .footer{padding:28px 0; border-top:1px solid var(--border); background:rgba(255,255,255,.02); margin-top:40px;}

    /* Chat system */
    .chat-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 60px;
      height: 60px;
      background: linear-gradient(45deg, var(--danger), var(--primary));
      color: #fff;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      cursor: pointer;
      box-shadow: 0 6px 20px rgba(0,188,212,0.3);
      z-index: 1000;
      transition: all 0.3s ease;
      border: none;
    }
    .chat-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 25px rgba(0,188,212,0.4);
    }

    /* Voice accessibility button */
    .voice-btn {
      position: fixed;
      bottom: 90px;
      right: 20px;
      width: 50px;
      height: 50px;
      background: linear-gradient(45deg, var(--success), var(--primary));
      color: #fff;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(76,175,80,0.3);
      z-index: 1000;
      transition: all 0.3s ease;
      border: none;
    }
    .voice-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 20px rgba(76,175,80,0.4);
    }

    .chat-box {
      position: fixed;
      bottom: 160px;
      right: 20px;
      width: 320px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      display: none;
      flex-direction: column;
      padding: 20px;
      box-shadow: var(--shadow);
      z-index: 999;
      backdrop-filter: blur(10px);
    }
    .chat-box.active {
      display: flex;
    }

    .chat-header {
      font-weight: 600;
      margin-bottom: 12px;
      color: var(--text);
      text-align: center;
      font-size: 16px;
      line-height: 1.35;
    }

    #chat-input {
      width: 100%;
      height: 80px;
      resize: none;
      padding: 12px;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: var(--bg);
      color: var(--text);
      margin-bottom: 12px;
      font-size: 14px;
      font-family: inherit;
      transition: border-color 0.3s ease;
    }
    #chat-input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(0,188,212,0.1);
    }
    #chat-input::placeholder {
      color: var(--muted);
    }

    .btn {
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      padding:10px 14px; border-radius:12px; font-weight:700; text-decoration:none;
      border:1px solid var(--border); transition:.25s; cursor:pointer; font-size:14px;
    }
    .btn.primary {
      background:linear-gradient(45deg, var(--danger), var(--primary)); 
      color:#fff; 
      box-shadow:0 0 24px rgba(0,188,212,.18);
      align-self: flex-end;
      min-width: 80px;
    }
    .btn:hover{transform:translateY(-1px); filter:saturate(1.05)}
    .btn:disabled{opacity:0.6; cursor:not-allowed; transform:none}

    .chat-feedback {
      margin-top: 8px;
      font-size: 13px;
      font-weight: 500;
      text-align: center;
      padding: 6px 8px;
      border-radius: 6px;
      display: none;
      transition: all 0.3s ease;
    }
    .chat-feedback.success {
      color: var(--success);
      background: rgba(76, 175, 80, 0.1);
      border: 1px solid rgba(76, 175, 80, 0.2);
    }
    .chat-feedback.error {
      color: var(--danger);
      background: rgba(230, 57, 70, 0.1);
      border: 1px solid rgba(230, 57, 70, 0.2);
    }
    .chat-feedback.info {
      color: var(--primary);
      background: rgba(0, 188, 212, 0.1);
      border: 1px solid rgba(0, 188, 212, 0.2);
    }

    /* Mobile responsiveness */
    @media (max-width: 768px) {
      .lang-switch {
        position: absolute;
        right: 60px;
        top: 50%;
        transform: translateY(-50%);
        gap: 4px;
      }

      .lang-switch button {
        padding: 3px;
      }

      .lang-switch img {
        width: 16px;
      }

      .nav-links {
        position: absolute;
        top: 100%;
        right: 0;
        background: rgba(10,10,10,0.95);
        flex-direction: column;
        align-items: center;
        gap: 16px;
        width: 100%;
        padding: 16px 0;
        border-top: 1px solid var(--border);
        display: none;
      }

      .nav-links.open {
        display: flex;
      }

      .nav-toggle {
        display: block;
        z-index: 100;
      }

      .nav-links a {
        display: block;
        width: 100%;
        text-align: center;
        padding: 12px;
        font-size: 1.1rem;
      }

      .section {
        padding: 50px 0;
      }

      .section-title {
        font-size: 1.5rem;
      }

      .cards {
        grid-template-columns: 1fr;
      }

      main {
        padding: 20px 10px;
      }

      h1 {
        font-size: 1.8rem;
      }

      p.lead {
        font-size: 1rem;
      }

      /* Tabela mobile */
      .hydrobot-table {
        border-radius: 12px;
      }

      .hydrobot-table th,
      .hydrobot-table td {
        padding: 12px 10px;
      }

      .hydrobot-table th {
        font-size: 0.8rem;
      }

      .component-image {
        width: 50px;
        height: 50px;
      }

      .component-name {
        font-size: 0.95rem;
        margin-bottom: 6px;
      }

      .component-function {
        font-size: 0.9rem;
      }

      .hydrobot-table th:first-child {
        width: 80px;
      }

      /* Chat mobile */
      .chat-box {
        width: calc(100vw - 40px);
        right: 20px;
        left: 20px;
        bottom: 160px;
      }

      .chat-btn {
        width: 56px;
        height: 56px;
        font-size: 24px;
      }

      .voice-btn {
        width: 46px;
        height: 46px;
        font-size: 18px;
        bottom: 85px;
      }

      .portrait-video {
        max-width: 420px;
      }
    }

    @media (max-width: 480px) {
      .components-table {
        margin: 30px auto;
      }

      .hydrobot-table th,
      .hydrobot-table td {
        padding: 10px 8px;
      }

      .component-image {
        width: 45px;
        height: 45px;
      }

      .component-name {
        font-size: 0.9rem;
      }

      .component-function {
        font-size: 0.85rem;
        line-height: 1.4;
      }

      .hydrobot-table th:first-child {
        width: 70px;
      }

      .chat-box {
        width: calc(100vw - 20px);
        right: 10px;
        left: 10px;
        padding: 16px;
      }
      
      .chat-btn {
        right: 15px;
        bottom: 15px;
      }

      .voice-btn {
        right: 15px;
        bottom: 80px;
      }

      h1 {
        font-size: 1.5rem;
      }
    }

    @media (min-width: 900px) {
      .portrait-video {
        max-width: 420px;
      }
    }
  </style>
</head>
<body class="theme-dark">

  <header class="navbar">
    <a class="brand" href="index.html">
      <img src="images/logo.png" alt="Hydro Bot" class="brand-logo" />
      <span class="brand-name">Hydro Bot</span>
    </a>
    <button class="nav-toggle" aria-expanded="false" aria-controls="nav-links" aria-label="Abrir menu">
      <span class="bar"></span><span class="bar"></span><span class="bar"></span>
    </button>
    <nav id="nav-links" class="nav-links">
      <a href="index.html" data-i18n="home">Home</a>
      <a href="projeto.html" data-i18n="project">Projeto</a>
      <a href="casos.html" data-i18n="cases">Casos</a>
      <a href="documentacao.html" class="active" data-i18n="documentation">Documentação</a>
    </nav>
    <div class="lang-switch">
      <button class="lang-btn" data-lang="pt"><img src="https://flagcdn.com/w20/br.png" alt="Português"></button>
      <button class="lang-btn" data-lang="en"><img src="https://flagcdn.com/w20/us.png" alt="English"></button>
      <button class="lang-btn" data-lang="es"><img src="https://flagcdn.com/w20/es.png" alt="Español"></button>
    </div>
  </header>

  <main>
    <h1 data-i18n="docTitle">Documentação do Projeto Hydro Bot</h1>
    <p class="lead" data-i18n="docSubtitle">Acompanhe as etapas do projeto e visualize o mapa mental que organiza nossas ideias.</p>

    <div class="iframe-container">
      <iframe src="https://miro.com/app/live-embed/uXjVJHPfjl4=/?embedMode=view_only_without_ui&moveToViewport=-850,-71,2124,1054&embedId=672875784971" scrolling="no" allow="fullscreen; clipboard-read; clipboard-write" allowfullscreen></iframe>
    </div>

    <div class="cards">
      <div class="card">
        <h3 data-i18n="step1Title">Etapa 1: Planejamento</h3>
        <p data-i18n="step1Text">Definimos objetivos, funcionalidades do Hydro Bot e a estrutura do mapa mental para organizar as ideias.</p>
      </div>
      <div class="card">
        <h3 data-i18n="step2Title">Etapa 2: Desenvolvimento</h3>
        <p data-i18n="step2Text">Implementação dos sensores, bombeamento de água e integração do sistema com controle remoto e aplicativo.</p>
      </div>
      <div class="card">
        <h3 data-i18n="step3Title">Etapa 3: Testes</h3>
        <p data-i18n="step3Text">Realizamos simulações de incêndio, ajustes de robótica e validação do funcionamento do Hydro Bot.</p>
      </div>
      <div class="card">
        <h3 data-i18n="step4Title">Etapa 4: Documentação</h3>
        <p data-i18n="step4Text">Criação desta página com mapa mental interativo, registro de etapas e instruções para visualização do projeto.</p>
      </div>
    </div>
    
    <section class="components-table section container">
      <h2 class="section-title" data-i18n="componentsTitle">Componentes Essenciais do HydroBot</h2>
      <div class="table-wrapper">
        <table class="hydrobot-table">
          <thead>
            <tr>
              <th data-i18n="imageColumn">Imagem</th>
              <th data-i18n="componentColumn">Componente</th>
              <th data-i18n="functionColumn">Função Principal no Carrinho</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <img src="https://circuitpython.org/assets/images/boards/large/ai-thinker-esp32-cam.jpg" 
                     alt="ESP32 Camera" 
                     class="component-image"
                     loading="lazy">
              </td>
              <td>
                <div class="component-name" data-i18n="component1Name">Placa de Visão (Câmera ESP32)</div>
              </td>
              <td>
                <div class="component-function" data-i18n="component1Function">Núcleo de Inteligência e Visão. Processa imagens para identificar o fogo e permite a visualização remota via aplicativo.</div>
              </td>
            </tr>
            <tr>
              <td>
                <img src="https://cdn.awsli.com.br/600x1000/2406/2406079/produto/365113962/sem-t-tulo-n2hq5fcqyb.png" 
                     alt="Flame Sensor" 
                     class="component-image"
                     loading="lazy">
              </td>
              <td>
                <div class="component-name" data-i18n="component2Name">Sensores de Chama</div>
              </td>
              <td>
                <div class="component-function" data-i18n="component2Function">Detecção Rápida. Identificam o fogo para o acionamento do combate no Modo Automático.</div>
              </td>
            </tr>
            <tr>
              <td>
                <img src="https://www.usinainfo.com.br/1020023-thickbox_default/mini-bomba-de-agua-submersa-3v-5v-jt100-15lmin.jpg" 
                     alt="Water Pump" 
                     class="component-image"
                     loading="lazy">
              </td>
              <td>
                <div class="component-name" data-i18n="component3Name">Bomba d'Água Submersa (JT100)</div>
              </td>
              <td>
                <div class="component-function" data-i18n="component3Function">Acionamento do Combate. Impulsiona a água do reservatório, sendo ativada tanto pelo sistema Automático quanto pelo Aplicativo.</div>
              </td>
            </tr>
            <tr>
              <td>
                <img src="images/sistema.jpg" 
                     alt="Hydraulic System" 
                     class="component-image"
                     loading="lazy">
              </td>
              <td>
                <div class="component-name" data-i18n="component4Name">Sistema Hidráulico Adaptado</div>
              </td>
              <td>
                <div class="component-function" data-i18n="component4Function">Sistema de Lançamento. Tubulação e bico reaproveitados do carrinho de brinquedo e adaptados para o lançamento eficiente da água.</div>
              </td>
            </tr>
            <tr>
              <td>
                <img src="images/brinquedo.jpeg" 
                     alt="Robot Base" 
                     class="component-image"
                     loading="lazy">
              </td>
              <td>
                <div class="component-name" data-i18n="component5Name">Estrutura Base</div>
              </td>
              <td>
                <div class="component-function" data-i18n="component5Function">Reaproveitamento. Carrinho de Bombeiro de Brinquedo reutilizado e adaptado para ser a base do robô e alojar os componentes e o tanque.</div>
              </td>
            </tr>
            <tr>
              <td>
                <img src="images/tela.jpeg" 
                     alt="Mobile App" 
                     class="component-image"
                     loading="lazy">
              </td>
              <td>
                <div class="component-name" data-i18n="component6Name">Aplicativo de Controle</div>
              </td>
              <td>
                <div class="component-function" data-i18n="component6Function">Interface Remota. Permite ao usuário o Controle Manual, incluindo o acesso à câmera e o acionamento direto da bomba d'água.</div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section class="pitch-video section container">
      <h2 class="section-title" data-i18n="pitchVideoTitle">Video Pitch do Hydro Bot</h2>
      <div class="portrait-video">
        <video class="testimonial-video" controls playsinline preload="metadata" aria-label="Vídeo do pitch do Hydro Bot">
          <source src="videos/pitch.mp4" type="video/mp4"/>
          <span data-i18n="videoNotSupported">Seu navegador não suporta reproduzir este vídeo.</span>
        </video>
      </div>
    </section>

  </main>

  <!-- Lightbox para imagens -->
  <div id="lightbox" class="lightbox">
    <div class="lightbox-content">
      <button class="lightbox-close" aria-label="Fechar">&times;</button>
      <img id="lightbox-img" src="" alt="">
    </div>
  </div>

  <section class="social-section">
    <p data-i18n="followUs">Siga nosso Instagram:</p>
    <a href="https://www.instagram.com/hydro.bot/" target="_blank" rel="noopener" class="instagram-btn">
      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="icon">
        <path d="M7 2C4.243 2 2 4.243 2 7v10c0 2.757 2.243 5 5 5h10c2.757 0 5-2.243 
                 5-5V7c0-2.757-2.243-5-5-5H7zm10 2a3 3 0 0 1 3 3v10a3 3 0 0 
                 1-3 3H7a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h10zm-5 3a5 5 0 1 
                 0 0 10 5 5 0 0 0 0-10zm0 2a3 3 0 1 1 0 6 3 3 0 0 1 
                 0-6zm4.5-3a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"/>
      </svg>
      @hydro.bot
    </a>
  </section>

  <footer class="footer">
    <div class="container small">
      <p>&copy; <span id="currentYear"></span> Hydro Bot. <span data-i18n="footer">Todos os direitos reservados.</span></p>
    </div>
  </footer>

  <!-- Botão de acessibilidade para leitura -->
  <button id="voice-btn" class="voice-btn" aria-label="Ouvir conteúdo da página" title="Pressione Ctrl+Alt+L para ouvir">
    🔊
  </button>

  <!-- Botão flutuante do chat -->
  <div id="chat-btn" class="chat-btn" aria-label="Abrir chat">💬</div>

  <!-- Caixa de perguntas -->
  <div id="chat-box" class="chat-box" role="dialog" aria-label="Enviar pergunta">
    <div class="chat-header" data-i18n="chatHeader">Envie sua pergunta - Digite seu nome antes da pergunta</div>
    <textarea id="chat-input" data-i18n-placeholder="chatPlaceholder" placeholder="Digite sua pergunta..."></textarea>
    <button id="send-question" class="btn primary" type="button" data-i18n="sendButton">Enviar</button>
    <div id="chat-feedback" class="chat-feedback" aria-live="polite"></div>
  </div>

  <script>
    // Sistema de traduções multilíngue
    const translations = {
      pt: {
        // Navegação
        home: "Home",
        project: "Projeto", 
        cases: "Casos",
        documentation: "Documentação",

        // Página principal
        docTitle: "Documentação do Projeto Hydro Bot",
        docSubtitle: "Acompanhe as etapas do projeto e visualize o mapa mental que organiza nossas ideias.",
        
        // Etapas
        step1Title: "Etapa 1: Planejamento",
        step1Text: "Definimos objetivos, funcionalidades do Hydro Bot e a estrutura do mapa mental para organizar as ideias.",
        step2Title: "Etapa 2: Desenvolvimento", 
        step2Text: "Implementação dos sensores, bombeamento de água e integração do sistema com controle remoto e aplicativo.",
        step3Title: "Etapa 3: Testes",
        step3Text: "Realizamos simulações de incêndio, ajustes de robótica e validação do funcionamento do Hydro Bot.",
        step4Title: "Etapa 4: Documentação",
        step4Text: "Criação desta página com mapa mental interativo, registro de etapas e instruções para visualização do projeto.",

        // Tabela de componentes
        componentsTitle: "Componentes Essenciais do HydroBot",
        imageColumn: "Imagem",
        componentColumn: "Componente",
        functionColumn: "Função Principal no Carrinho",
        
        component1Name: "Placa de Visão (Câmera ESP32)",
        component1Function: "Núcleo de Inteligência e Visão. Processa imagens para identificar o fogo e permite a visualização remota via aplicativo.",
        component2Name: "Sensores de Chama",
        component2Function: "Detecção Rápida. Identificam o fogo para o acionamento do combate no Modo Automático.",
        component3Name: "Bomba d'Água Submersa (JT100)",
        component3Function: "Acionamento do Combate. Impulsiona a água do reservatório, sendo ativada tanto pelo sistema Automático quanto pelo Aplicativo.",
        component4Name: "Sistema Hidráulico Adaptado", 
        component4Function: "Sistema de Lançamento. Tubulação e bico reaproveitados do carrinho de brinquedo e adaptados para o lançamento eficiente da água.",
        component5Name: "Estrutura Base",
        component5Function: "Reaproveitamento. Carrinho de Bombeiro de Brinquedo reutilizado e adaptado para ser a base do robô e alojar os componentes e o tanque.",
        component6Name: "Aplicativo de Controle",
        component6Function: "Interface Remota. Permite ao usuário o Controle Manual, incluindo o acesso à câmera e o acionamento direto da bomba d'água.",

        // Outros
        pitchVideoTitle: "Video Pitch do Hydro Bot",
        videoNotSupported: "Seu navegador não suporta reproduzir este vídeo.",
        followUs: "Siga nosso Instagram:",
        footer: "Todos os direitos reservados.",
        chatHeader: "Envie sua pergunta - Digite seu nome antes da pergunta",
        chatPlaceholder: "Digite sua pergunta...",
        sendButton: "Enviar"
      },

      en: {
        // Navigation
        home: "Home",
        project: "Project",
        cases: "Cases", 
        documentation: "Documentation",

        // Main page
        docTitle: "Hydro Bot Project Documentation",
        docSubtitle: "Follow the project steps and explore the mind map that organizes our ideas.",
        
        // Steps
        step1Title: "Step 1: Planning",
        step1Text: "We defined objectives, Hydro Bot functionalities, and the mind map structure to organize ideas.",
        step2Title: "Step 2: Development",
        step2Text: "Implementation of sensors, water pumping system, and integration with remote control and app.",
        step3Title: "Step 3: Testing", 
        step3Text: "We performed fire simulations, robotics adjustments, and validation of Hydro Bot's operation.",
        step4Title: "Step 4: Documentation",
        step4Text: "Creation of this page with an interactive mind map, step records, and project viewing instructions.",

        // Component table
        componentsTitle: "HydroBot Essential Components",
        imageColumn: "Image",
        componentColumn: "Component", 
        functionColumn: "Main Function in the Cart",
        
        component1Name: "Vision Board (ESP32 Camera)",
        component1Function: "Intelligence and Vision Core. Processes images to identify fire and enables remote viewing via app.",
        component2Name: "Flame Sensors",
        component2Function: "Rapid Detection. Identify fire to trigger combat in Automatic Mode.",
        component3Name: "Submersible Water Pump (JT100)", 
        component3Function: "Combat Activation. Drives water from the reservoir, activated by both Automatic system and App.",
        component4Name: "Adapted Hydraulic System",
        component4Function: "Launch System. Tubing and nozzle repurposed from toy cart and adapted for efficient water launch.",
        component5Name: "Base Structure",
        component5Function: "Repurposing. Toy Fire Truck reused and adapted to be the robot base and house components and tank.",
        component6Name: "Control Application",
        component6Function: "Remote Interface. Allows user Manual Control, including camera access and direct water pump activation.",

        // Others
        pitchVideoTitle: "Hydro Bot Pitch Video",
        videoNotSupported: "Your browser does not support playing this video.",
        followUs: "Follow us on Instagram:",
        footer: "All rights reserved.",
        chatHeader: "Send your question - Enter your name before the question",
        chatPlaceholder: "Type your question...",
        sendButton: "Send"
      },

      es: {
        // Navegación
        home: "Inicio",
        project: "Proyecto",
        cases: "Casos",
        documentation: "Documentación",

        // Página principal  
        docTitle: "Documentación del Proyecto Hydro Bot",
        docSubtitle: "Sigue las etapas del proyecto y visualiza el mapa mental que organiza nuestras ideas.",
        
        // Etapas
        step1Title: "Etapa 1: Planificación",
        step1Text: "Definimos objetivos, funcionalidades del Hydro Bot y la estructura del mapa mental para organizar las ideas.",
        step2Title: "Etapa 2: Desarrollo",
        step2Text: "Implementación de sensores, bombeo de agua e integración del sistema con control remoto y aplicación.",
        step3Title: "Etapa 3: Pruebas",
        step3Text: "Realizamos simulaciones de incendios, ajustes de robótica y validación del funcionamiento del Hydro Bot.",
        step4Title: "Etapa 4: Documentación", 
        step4Text: "Creación de esta página con mapa mental interactivo, registro de etapas e instrucciones para visualizar el proyecto.",

        // Tabla de componentes
        componentsTitle: "Componentes Esenciales del HydroBot",
        imageColumn: "Imagen",
        componentColumn: "Componente",
        functionColumn: "Función Principal en el Carrito",
        
        component1Name: "Placa de Visión (Cámara ESP32)",
        component1Function: "Núcleo de Inteligencia y Visión. Procesa imágenes para identificar el fuego y permite la visualización remota vía aplicación.",
        component2Name: "Sensores de Llama", 
        component2Function: "Detección Rápida. Identifican el fuego para el accionamiento del combate en Modo Automático.",
        component3Name: "Bomba de Agua Sumergible (JT100)",
        component3Function: "Accionamiento del Combate. Impulsa el agua del reservorio, siendo activada tanto por el sistema Automático como por la Aplicación.",
        component4Name: "Sistema Hidráulico Adaptado",
        component4Function: "Sistema de Lanzamiento. Tubería y boquilla reutilizadas del carrito de juguete y adaptadas para el lanzamiento eficiente del agua.",
        component5Name: "Estructura Base",
        component5Function: "Reutilización. Carrito de Bombero de Juguete reutilizado y adaptado para ser la base del robot y alojar los componentes y el tanque.",
        component6Name: "Aplicación de Control",
        component6Function: "Interfaz Remota. Permite al usuario el Control Manual, incluyendo el acceso a la cámara y el accionamiento directo de la bomba de agua.",

        // Otros
        pitchVideoTitle: "Video Pitch del Hydro Bot",
        videoNotSupported: "Su navegador no soporta reproducir este video.",
        followUs: "Síguenos en Instagram:",
        footer: "Todos los derechos reservados.",
        chatHeader: "Envía tu pregunta - Escribe tu nombre antes de la pregunta", 
        chatPlaceholder: "Escribe tu pregunta...",
        sendButton: "Enviar"
      }
    };

    // Sistema de idiomas
    let currentLang = localStorage.getItem('lang') || 'pt';

    function setLanguage(lang) {
      currentLang = lang;
      const dict = translations[lang];
      if (!dict) return;

      // Atualizar todos os elementos com data-i18n
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (dict[key]) {
          el.innerHTML = dict[key];
        }
      });

      // Atualizar placeholders
      document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        if (dict[key]) {
          el.placeholder = dict[key];
        }
      });

      // Salvar preferência e atualizar botões
      localStorage.setItem('lang', lang);
      document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
      const activeBtn = document.querySelector(`[data-lang="${lang}"]`);
      if (activeBtn) activeBtn.classList.add('active');
    }

    // Inicializar idioma
    setLanguage(currentLang);

    // Event listeners para botões de idioma
    document.querySelectorAll('.lang-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const lang = btn.getAttribute('data-lang');
        setLanguage(lang);
      });
    });

    // Sistema de acessibilidade para leitura em voz
    const voiceBtn = document.getElementById('voice-btn');
    
    function getVoiceForLang(lang) {
      const voices = speechSynthesis.getVoices();
      const mapping = {
        pt: ['pt-BR', 'pt'],
        en: ['en-US', 'en'],
        es: ['es-ES', 'es']
      };
      
      const preferredLangs = mapping[lang] || ['pt-BR'];
      
      for (const prefLang of preferredLangs) {
        const voice = voices.find(v => v.lang.includes(prefLang));
        if (voice) return voice;
      }
      
      return voices[0];
    }

    function speakPage() {
      const synth = window.speechSynthesis;
      
      if (synth.speaking) {
        synth.cancel();
        voiceBtn.innerHTML = '🔊';
        return;
      }

      // Extrair apenas texto visível (sem código ou elementos ocultos)
      const mainContent = document.querySelector('main');
      const textElements = mainContent.querySelectorAll('h1, h2, h3, p, td, th, .component-name, .component-function');
      
      let textToRead = '';
      textElements.forEach(el => {
        if (el.offsetParent !== null) { // Elemento visível
          textToRead += el.textContent.trim() + '. ';
        }
      });

      if (textToRead) {
        const utterance = new SpeechSynthesisUtterance(textToRead);
        utterance.voice = getVoiceForLang(currentLang);
        utterance.rate = 0.9;
        utterance.pitch = 1.0;
        
        utterance.onstart = () => {
          voiceBtn.innerHTML = '⏸️';
        };
        
        utterance.onend = () => {
          voiceBtn.innerHTML = '🔊';
        };
        
        synth.speak(utterance);
      }
    }

    // Event listeners para acessibilidade
    voiceBtn.addEventListener('click', speakPage);
    
    // Atalho de teclado Ctrl+Alt+L
    document.addEventListener('keydown', (e) => {
      if (e.ctrlKey && e.altKey && e.key.toLowerCase() === 'l') {
        e.preventDefault();
        speakPage();
      }
    });

    // Sistema de lightbox para imagens da tabela
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightbox-img');
    const lightboxClose = document.querySelector('.lightbox-close');
    
    // Adicionar click nas imagens da tabela
    document.querySelectorAll('.component-image').forEach(img => {
      img.addEventListener('click', (e) => {
        lightbox.classList.add('active');
        lightboxImg.src = e.target.src;
        lightboxImg.alt = e.target.alt;
      });
    });

    // Fechar lightbox
    function closeLightbox() {
      lightbox.classList.remove('active');
      lightboxImg.src = '';
    }

    lightboxClose.addEventListener('click', closeLightbox);
    lightbox.addEventListener('click', (e) => {
      if (e.target === lightbox) closeLightbox();
    });

    // Fechar com ESC
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeLightbox();
    });

    // Sistema de navegação mobile
    const navToggle = document.querySelector('.nav-toggle');
    const navLinks = document.querySelector('.nav-links');
    
    if (navToggle && navLinks) {
      navToggle.addEventListener('click', () => {
        const isOpen = navLinks.classList.toggle('open');
        navToggle.setAttribute('aria-expanded', String(isOpen));
      });
    }

    // Chat system
    const chatBtn = document.getElementById('chat-btn');
    const chatBox = document.getElementById('chat-box');
    const sendBtn = document.getElementById('send-question');
    const chatInput = document.getElementById('chat-input');
    const feedbackDiv = document.getElementById('chat-feedback');

    // Toggle chat
    if (chatBtn && chatBox) {
      chatBtn.addEventListener('click', () => {
        chatBox.classList.toggle('active');
        if (chatBox.classList.contains('active') && chatInput) {
          chatInput.focus();
        }
      });
    }

    // Feedback functions
    function showFeedback(msg, type) {
      if (feedbackDiv) {
        feedbackDiv.textContent = msg;
        feedbackDiv.className = `chat-feedback ${type}`;
        feedbackDiv.style.display = 'block';
      }
    }

    function clearFeedback() {
      if (feedbackDiv) {
        feedbackDiv.textContent = '';
        feedbackDiv.style.display = 'none';
      }
    }

    // Ano atual
    document.getElementById('currentYear').textContent = new Date().getFullYear();

    // Garantir que as vozes estão carregadas
    speechSynthesis.getVoices();
    speechSynthesis.onvoiceschanged = () => {
      speechSynthesis.getVoices();
    };
  </script>

  <!-- Firebase v9 modular -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyArkviije5lk6GX_egMHwrUagb6pqIXflA",
      authDomain: "hydrobot-chat.firebaseapp.com",
      projectId: "hydrobot-chat",
      storageBucket: "hydrobot-chat.appspot.com",
      messagingSenderId: "218191640260",
      appId: "1:218191640260:web:4a846b46b4aa3a8926fb91"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const sendBtn = document.getElementById('send-question');
    const chatInput = document.getElementById('chat-input');
    const chatBox = document.getElementById('chat-box');

    if (sendBtn && chatInput) {
      sendBtn.addEventListener('click', async () => {
        const question = chatInput.value.trim();
        
        if (!question) {
          showFeedback("Digite uma pergunta antes de enviar!", "error");
          return;
        }

        sendBtn.disabled = true;
        const originalText = sendBtn.textContent;
        sendBtn.textContent = "Enviando...";
        showFeedback("Enviando sua pergunta...", "info");

        try {
          await addDoc(collection(db, 'perguntas'), {
            texto: question,
            data: new Date(),
            pagina: 'documentacao.html',
            timestamp: Date.now()
          });

          showFeedback("Pergunta enviada com sucesso!", "success");
          chatInput.value = '';
          
          setTimeout(() => {
            chatBox.classList.remove('active');
            clearFeedback();
          }, 2000);

        } catch (error) {
          console.error("Erro ao enviar pergunta:", error);
          showFeedback("Erro ao enviar. Tente novamente.", "error");
        } finally {
          sendBtn.disabled = false;
          sendBtn.textContent = originalText;
        }
      });

      // Enter para enviar
      chatInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          sendBtn.click();
        }
      });
    }
  </script>
</body>
</html>